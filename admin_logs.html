<!DOCTYPE html>
<html lang="en">
<head>
  <meta charset="UTF-8">
  <title>Admin – Parking Logs</title>
  <style>
    body{font-family:Arial,sans-serif;background:#eef;margin:0;padding:20px}
    header{background:#333;color:#fff;padding:15px 20px;display:flex;justify-content:space-between;align-items:center}
    .buttons{display:flex;gap:10px}
    .buttons button{padding:10px 16px;background:#4CAF50;color:#fff;border:0;border-radius:5px;cursor:pointer}
    h2{text-align:center;margin-top:30px;color:#333}
    .actions{display:flex;justify-content:center;gap:15px;margin-top:20px}
    .actions button{padding:10px 22px;font-size:16px;border:0;border-radius:6px;color:#fff;cursor:pointer}
    .view-btn{background:navy}.view-btn:hover{background:#00185c}
    .clear-btn{background:#c0392b}.clear-btn:hover{background:#962a22}
    table{width:80%;margin:25px auto;border-collapse:collapse;display:none}
    th,td{border:1px solid #888;padding:10px;text-align:center}
    th{background:#444;color:#fff}
  </style>
</head>
<body>

<header>
  <div><strong>// ADMINISTRATOR //</strong></div>
  <div class="buttons">
    <button onclick="location.href='home.html'">Home</button>
    <button onclick="location.href='admin_user_details.html'">User Details</button>
    <button onclick="location.href='admin_booking.html'">Bookings</button>
    <button onclick="location.href='admin_logs.html'">Parking Logs</button>
    <button onclick="location.href='index.html'">Logout</button>
  </div>
</header>

<h2>Parking Logs</h2>

<div class="actions">
  <button class="view-btn"  onclick="showLogs()">View All Logs</button>
  <button class="clear-btn" onclick="clearLogs()">Clear All Logs</button>
</div>

<table id="logTable">
  <thead>
    <tr>
      <th>ID</th>
      <th>Ticket ID</th>
      <th>Name</th>
      <th>Slot Name</th>
    </tr>
  </thead>
  <tbody id="logBody"></tbody>
</table>

<script>
  // ---------- helpers ----------
  function getLogs(){
    return JSON.parse(localStorage.getItem("parkingLogs") || "[]");
  }

  // ---------- main render ----------
  function showLogs(){
    const logs  = getLogs();
    const tbody = document.getElementById("logBody");
    const table = document.getElementById("logTable");
    tbody.innerHTML = "";

    if(logs.length===0){
      tbody.innerHTML = '<tr><td colspan="4">No parking logs found.</td></tr>';
    }else{
      logs.forEach(l=>{
        const tr = document.createElement("tr");
        tr.innerHTML = `
          <td>${l.id || "-"}</td>
          <td>${l.ticketId || "-"}</td>
          <td>${l.name || "-"}</td>
          <td>${l.slotName || "-"}</td>
        `;
        tbody.appendChild(tr);
      });
    }
    table.style.display = "table";
  }

  // ---------- clear logs ----------
  function clearLogs(){
    if(confirm("Delete ALL parking logs?")){
      localStorage.removeItem("parkingLogs");
      document.getElementById("logTable").style.display="none";
      alert("All parking logs cleared.");
    }
  }
</script>

</body>
</html>
