<!DOCTYPE html>
<html lang="en">
<head>
  <meta charset="UTF-8">
  <title>Admin – User Details</title>
  <style>
    body{font-family:Arial,sans-serif;background:#eef;margin:0;padding:20px}
    header{background:#333;color:#fff;padding:15px 20px;display:flex;justify-content:space-between;align-items:center}
    .buttons{display:flex;gap:10px}
    .buttons button{padding:10px 16px;background:#4CAF50;color:#fff;border:0;border-radius:5px;cursor:pointer}
    h2{text-align:center;margin-top:30px;color:#333}
    .actions{display:flex;justify-content:center;gap:15px;margin-top:20px}
    .actions button{padding:10px 22px;font-size:16px;border:0;border-radius:6px;color:#fff;cursor:pointer}
    .view-btn{background:navy}
    .view-btn:hover{background:#00185c}
    .clear-btn{background:#c0392b}
    .clear-btn:hover{background:#962a22}
    table{width:80%;margin:20px auto;border-collapse:collapse;display:none}
    th,td{border:1px solid #888;padding:10px;text-align:center}
    th{background:#444;color:#fff}
  </style>
</head>
<body>

<header>
  <div><strong>// ADMINISTRATOR //</strong></div>
  <div class="buttons">
    <button onclick="location.href='home.html'">Home</button>
    <button onclick="location.href='admin_user_details.html'">User Details</button>
    <button onclick="location.href='admin_booking.html'">Bookings</button>
    <button onclick="location.href='admin_logs.html'">Parking Logs</button>
    <button onclick="location.href='index.html'">Logout</button>
  </div>
</header>

<h2>Registered User Details</h2>

<div class="actions">
  <button class="view-btn" onclick="showTable()">View All Users</button>
  <button class="clear-btn" onclick="clearUsers()">Delete All Users</button>
</div>

<table id="userTable">
  <thead>
    <tr>
      <th>User ID</th>
      <th>Username</th>
      <th>Gender</th>
      <th>Phone Number</th>
    </tr>
  </thead>
  <tbody id="userData"></tbody>
</table>

<script>
  function getUsers() {
    return JSON.parse(localStorage.getItem("users") || "[]");
  }

  function showTable() {
    const users = getUsers();
    const table = document.getElementById("userTable");
    const tbody = document.getElementById("userData");
    tbody.innerHTML = "";

    if (users.length === 0) {
      tbody.innerHTML = '<tr><td colspan="4">No registered users.</td></tr>';
    } else {
      users.forEach(u => {
        const tr = document.createElement("tr");
        tr.innerHTML = `
          <td>${u.id || "-"}</td>
          <td>${u.username || "-"}</td>
          <td>${u.gender || "-"}</td>
          <td>${u.phone || "-"}</td>
        `;
        tbody.appendChild(tr);
      });
    }
    table.style.display = "table";
  }

  function clearUsers() {
    if (confirm("Delete ALL saved user records?")) {
      localStorage.removeItem("users");      // wipe the array
      document.getElementById("userTable").style.display = "none";
      alert("All user details deleted.");
    }
  }
</script>

</body>
</html>
